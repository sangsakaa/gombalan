<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gombalan Animasi untuk Calon Istri</title>
  <style>
    :root{
      --bg1:#ff9a9e; --bg2:#fad0c4; --card:#ffffffee; --accent:#ff5c8a;
      --glass: rgba(255,255,255,0.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background: linear-gradient(135deg,var(--bg1),var(--bg2));}

    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}

    .card{
      width:100%;max-width:780px;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));
      border-radius:18px;padding:28px;box-shadow:0 10px 30px rgba(0,0,0,0.15);position:relative;overflow:hidden;
    }

    h1{margin:0 0 8px;font-size:20px;color:#3b2b37}
    p.lead{margin:0 0 18px;color:#6b5662}

    .gombal-box{background:var(--card);border-radius:14px;padding:26px;min-height:140px;display:flex;align-items:center;justify-content:center;position:relative}

    /* typing */
    .line{font-size:20px;color:#432733;letter-spacing:0.2px;white-space:nowrap;overflow:hidden;border-right:3px solid var(--accent);padding-right:6px}

    /* controls */
    .controls{display:flex;gap:10px;margin-top:18px}
    button{background:var(--accent);border:none;color:white;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 6px 14px rgba(255,92,138,0.26)}
    button.alt{background:transparent;color:var(--accent);border:2px solid rgba(255,92,138,0.14)}

    /* floating hearts */
    .hearts{position:absolute;inset:0;pointer-events:none}
    .heart{position:absolute;width:18px;height:18px;background:var(--accent);transform:rotate(-45deg);border-radius:4px;opacity:0.95}
    .heart:before,.heart:after{content:'';position:absolute;background:var(--accent);width:18px;height:18px;border-radius:50%}
    .heart:before{top:-9px;left:0}
    .heart:after{left:9px;top:0}

    /* animation for hearts (generated by JS) */

    /* small footer */
    .meta{display:flex;justify-content:space-between;align-items:center;margin-top:18px;color:#6b5662;font-size:13px}

    /* responsive */
    @media (max-width:520px){.line{font-size:18px}}

    /* confetti (simple) */
    .confetti-piece{position:absolute;width:10px;height:18px;opacity:0;transform-origin:center}

  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Gombalan Animasi â€” Kode Interaktif</h1>
      <p class="lead">Klik tombol <strong>Gombal</strong> untuk mengganti baris gombalan. Ada efek ketik, hati melayang, dan konfeti kecil supaya makin dramatis ðŸ’–</p>

      <div class="gombal-box" id="gombalBox">
        <div id="line" class="line" aria-live="polite"></div>
      </div>

      <div class="controls">
        <button id="nextBtn">Gombal</button>
        <button id="randomBtn" class="alt">Acak</button>
        <button id="stopBtn" class="alt">Stop</button>
      </div>

      <div class="meta">
        <span id="counter">0 / 0</span>
        <small>Restart untuk gombalan baru kapan saja âœ¨</small>
      </div>

      <div class="hearts" id="heartsLayer"></div>
      <div class="confetti" id="confettiLayer"></div>
    </div>
  </div>

  <script>
    // Daftar gombalan (bahasa Indonesia). Tambah/ubah sesuka hati!
    const gombalan = [
      "Kalau aku jadi huruf, aku mau jadi 'C' biar bisa bilang 'Cintamu' setiap hari.",
      "Aku bukan Wi-Fi, tapi aku ngerasa koneksi kita kuat tanpa password.",
      "Kamu itu kaya kopi pagiâ€”bikin hari aku langsung lebih berwarna.",
      "Kalau cinta itu kode, aku siap jadi debugger yang mencari setiap celah hatimu.",
      "Matahari iri sama senyummuâ€”soalnya kamu selalu bikin siang di hatiku.",
      "Kamu bagai update terbaik dalam hidupkuâ€”selalu membuat segalanya lebih baik.",
      "Aku mungkin bukan pelaut, tapi aku rela nyasar ke hatimu dan berlabuh di sana.",
      "Kalau kebetulan itu nyata, maka bertemu kamu adalah algoritma terindah dalam hidupku.",
      "Kamu ringan kayak awan, tapi bikin aku melayang setiap kali memikirkanmu.",
      "Kalau pelukan itu bahasa, aku pengin jadi yang paling sering kamu ucapkan."
    ];

    const lineEl = document.getElementById('line');
    const nextBtn = document.getElementById('nextBtn');
    const randomBtn = document.getElementById('randomBtn');
    const stopBtn = document.getElementById('stopBtn');
    const counterEl = document.getElementById('counter');
    const heartsLayer = document.getElementById('heartsLayer');
    const confettiLayer = document.getElementById('confettiLayer');
    let idx = 0;
    let typingTimer = null;
    let stopTyping = false;

    function updateCounter(){ counterEl.textContent = (idx+1) + ' / ' + gombalan.length }

    function typeText(text, speed=40){
      clearInterval(typingTimer);
      lineEl.textContent = '';
      lineEl.style.borderRight = '3px solid var(--accent)';
      let i=0;
      stopTyping = false;
      typingTimer = setInterval(()=>{
        if(stopTyping){ clearInterval(typingTimer); lineEl.style.borderRight='none'; return }
        if(i<=text.length){ lineEl.textContent = text.slice(0,i); i++; }
        else{ clearInterval(typingTimer); lineEl.style.borderRight='none'; }
      }, speed);
    }

    function showGombal(index){
      idx = (index + gombalan.length) % gombalan.length;
      typeText(gombalan[idx]);
      updateCounter();
      spawnHearts();
      spawnConfetti();
    }

    nextBtn.addEventListener('click', ()=>{ showGombal(idx+1); });
    randomBtn.addEventListener('click', ()=>{ showGombal(Math.floor(Math.random()*gombalan.length)); });
    stopBtn.addEventListener('click', ()=>{ stopTyping=true; clearParticles(); });

    // Heart particles
    function spawnHearts(){
      clearParticles();
      for(let i=0;i<10;i++){
        const h = document.createElement('div');
        h.className='heart';
        const left = Math.random()*100; const size = 10 + Math.random()*26;
        h.style.left = left+'%'; h.style.bottom='-10px'; h.style.width = size+'px'; h.style.height = size+'px';
        h.style.opacity = 0.9 - Math.random()*0.5;
        heartsLayer.appendChild(h);
        // animate with CSS via JS (simple)
        const dur = 3000 + Math.random()*2200;
        h.animate([
          {transform:'translateY(0) scale(1) rotate(-45deg)', opacity: h.style.opacity},
          {transform:'translateY(-220px) scale(1.1) rotate(-45deg)', opacity:0.9},
          {transform:'translateY(-480px) scale(1.15) rotate(-45deg)', opacity:0}
        ],{duration:dur,iterations:1,easing:'cubic-bezier(.2,.8,.2,1)'}).onfinish = ()=>{ h.remove(); };
      }
    }

    function spawnConfetti(){
      for(let i=0;i<22;i++){
        const c = document.createElement('div');
        c.className='confetti-piece';
        c.style.left = Math.random()*100 + '%';
        c.style.top = (-10 - Math.random()*40) + 'px';
        c.textContent='';
        confettiLayer.appendChild(c);
        const w = 6+Math.random()*14; const h = 10+Math.random()*18;
        c.style.width = w+'px'; c.style.height = h+'px';
        c.style.background = 'linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,92,138,0.9))';
        c.style.opacity = 1;
        const dur = 900 + Math.random()*1200;
        c.animate([
          {transform:'translateY(0) rotate(0) scale(1)', opacity:1},
          {transform:'translateY(520px) rotate(360deg) scale(0.9)', opacity:0}
        ],{duration:dur,iterations:1,easing:'cubic-bezier(.2,.7,.3,1)'}).onfinish = ()=>{ c.remove(); };
      }
    }

    function clearParticles(){
      heartsLayer.innerHTML=''; confettiLayer.innerHTML='';
    }

    // Auto-start with first gombal
    showGombal(0);

    // keyboard friendly: space -> next
    window.addEventListener('keydown', (e)=>{
      if(e.code==='Space'){ e.preventDefault(); showGombal(idx+1) }
    });

  </script>
</body>
</html>
